<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuantumSentinel-Nexus: Unified Security Platform</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'JetBrains Mono', monospace;
            scroll-behavior: smooth;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .glass-effect {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .upload-zone {
            border: 2px dashed #22c55e;
            transition: all 0.3s ease;
            background: rgba(34, 197, 94, 0.05);
        }

        .upload-zone:hover, .upload-zone.dragover {
            border-color: #16a34a;
            background: rgba(34, 197, 94, 0.1);
            transform: scale(1.02);
        }

        .module-card {
            transition: all 0.3s ease;
            border-radius: 16px;
        }

        .module-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }

        .status-active { background-color: #10b981; }
        .status-warning { background-color: #f59e0b; }
        .status-inactive { background-color: #ef4444; }

        .activity-log {
            max-height: 200px;
            overflow-y: auto;
        }

        .grid-modules {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
    </style>
</head>
<body class="text-white">
    <div class="container mx-auto px-4 py-8">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-2">üõ°Ô∏è QuantumSentinel-Nexus</h1>
            <p class="text-xl text-blue-400">Unified Security Platform - All Capabilities</p>
            <div class="mt-4 space-y-2">
                <p class="text-sm text-yellow-400 font-semibold">‚ö†Ô∏è Verification Status</p>
                <p class="text-sm text-green-400">Manual Validation Required</p>
            </div>
        </div>

        <!-- Export Button -->
        <div class="glass-effect rounded-xl p-4 mb-6 text-center">
            <button onclick="exportReport()" class="bg-blue-600 hover:bg-blue-700 px-6 py-2 rounded-lg transition-colors">
                üìã Export Report
            </button>
        </div>

        <!-- Alert -->
        <div class="glass-effect bg-red-900/20 border border-red-500/30 rounded-xl p-6 mb-6">
            <h2 class="text-lg font-semibold text-red-400 mb-4">‚ö†Ô∏è Assessment Protocol Updated</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                <div>
                    <p class="text-white mb-2">‚úÖ <strong>False Positives Removed:</strong> All automated findings cleared</p>
                    <p class="text-white mb-2">üîç <strong>Manual Validation Required:</strong> Screenshot evidence mandatory</p>
                </div>
                <div>
                    <p class="text-white mb-2">üìã <strong>Verification Alert:</strong> All modules require validation</p>
                    <p class="text-white mb-2">üõ°Ô∏è <strong>Status:</strong> Manual assessment protocol active</p>
                </div>
            </div>
        </div>

        <!-- Main Statistics -->
        <div class="glass-effect rounded-xl p-6 mb-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                <div>
                    <div class="text-2xl font-bold text-red-400" id="critical-count">0</div>
                    <div class="text-sm text-gray-400">Critical Issues</div>
                </div>
                <div>
                    <div class="text-2xl font-bold text-white" id="total-vulns">0</div>
                    <div class="text-sm text-gray-400">Total Findings</div>
                </div>
                <div>
                    <div class="text-2xl font-bold text-green-400" id="verified-count">0</div>
                    <div class="text-sm text-gray-400">Verified</div>
                </div>
                <div>
                    <div class="text-2xl font-bold text-blue-400" id="active-modules">6</div>
                    <div class="text-sm text-gray-400">Active Modules</div>
                </div>
            </div>
        </div>

        <!-- Security Modules Grid -->
        <div class="grid-modules">

            <!-- 1. Security Analysis -->
            <div class="glass-effect module-card p-6">
                <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                    <i data-feather="shield" class="w-5 h-5 text-green-400"></i>
                    Security Analysis
                    <span class="text-xs text-yellow-400 ml-auto">Validation Required</span>
                </h3>

                <div class="upload-zone p-8 rounded-lg mb-4 text-center cursor-pointer" onclick="triggerFileUpload()">
                    <i data-feather="upload" class="w-8 h-8 mx-auto mb-2 text-green-400"></i>
                    <p class="text-sm text-gray-300 mb-2">Drop files here or click to upload</p>
                    <p class="text-xs text-gray-400">Supports: APK, IPA, ZIP, JAR, EXE, DLL, SO</p>
                    <input type="file" id="fileInput" multiple style="display: none;" accept=".apk,.ipa,.zip,.jar,.exe,.dll,.so">
                </div>

                <div class="space-y-2">
                    <button onclick="startAnalysis('sast')" class="w-full px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm transition-colors">
                        <i data-feather="code" class="w-4 h-4 inline mr-2"></i>
                        SAST Analysis
                    </button>
                    <button onclick="startAnalysis('dast')" class="w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm transition-colors">
                        <i data-feather="globe" class="w-4 h-4 inline mr-2"></i>
                        DAST Analysis
                    </button>
                    <button onclick="startAnalysis('mobile')" class="w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg text-sm transition-colors">
                        <i data-feather="smartphone" class="w-4 h-4 inline mr-2"></i>
                        Mobile Security
                    </button>
                </div>
            </div>

            <!-- 2. Bug Bounty Platform -->
            <div class="glass-effect module-card p-6">
                <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                    <i data-feather="target" class="w-5 h-5 text-red-400"></i>
                    Bug Bounty Platform
                    <span class="text-xs text-yellow-400 ml-auto">Validation Required</span>
                </h3>

                <div class="space-y-4">
                    <input
                        type="text"
                        id="bountyTarget"
                        placeholder="Target Domain/URL"
                        class="w-full px-3 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:border-red-400 focus:outline-none"
                    >

                    <div class="grid grid-cols-2 gap-2">
                        <button onclick="startBountyHunt('recon')" class="px-3 py-2 bg-red-600/20 hover:bg-red-600/30 border border-red-600/30 rounded-lg text-xs transition-colors">
                            <i data-feather="search" class="w-3 h-3 inline mr-1"></i>
                            Reconnaissance
                        </button>
                        <button onclick="startBountyHunt('subdomain')" class="px-3 py-2 bg-orange-600/20 hover:bg-orange-600/30 border border-orange-600/30 rounded-lg text-xs transition-colors">
                            <i data-feather="git-branch" class="w-3 h-3 inline mr-1"></i>
                            Subdomain Enum
                        </button>
                        <button onclick="startBountyHunt('vuln')" class="px-3 py-2 bg-yellow-600/20 hover:bg-yellow-600/30 border border-yellow-600/30 rounded-lg text-xs transition-colors">
                            <i data-feather="bug" class="w-3 h-3 inline mr-1"></i>
                            Vuln Scanning
                        </button>
                        <button onclick="startBountyHunt('fuzz')" class="px-3 py-2 bg-pink-600/20 hover:bg-pink-600/30 border border-pink-600/30 rounded-lg text-xs transition-colors">
                            <i data-feather="zap" class="w-3 h-3 inline mr-1"></i>
                            Fuzzing
                        </button>
                    </div>

                    <div class="text-xs text-gray-400">
                        <span class="status-indicator status-warning"></span>
                        Manual validation required for all findings
                    </div>
                </div>
            </div>

            <!-- 3. Chaos Testing -->
            <div class="glass-effect module-card p-6">
                <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                    <i data-feather="zap" class="w-5 h-5 text-pink-400"></i>
                    Chaos Testing
                    <span class="text-xs text-yellow-400 ml-auto">Validation Required</span>
                </h3>

                <div class="space-y-4">
                    <div class="grid grid-cols-2 gap-2 text-xs">
                        <div class="text-center p-2 bg-pink-600/20 rounded">
                            <div class="font-bold text-pink-400" id="chaos-tests">0</div>
                            <div class="text-gray-400">Tests Run</div>
                        </div>
                        <div class="text-center p-2 bg-red-600/20 rounded">
                            <div class="font-bold text-red-400" id="chaos-failures">0</div>
                            <div class="text-gray-400">Failures Found</div>
                        </div>
                    </div>

                    <div class="space-y-2">
                        <button onclick="startChaosTest('stress')" class="w-full px-3 py-2 bg-pink-600/20 hover:bg-pink-600/30 border border-pink-600/30 rounded-lg transition-colors text-xs">
                            <i data-feather="cpu" class="w-3 h-3 inline mr-1"></i>
                            Stress Testing
                        </button>
                        <button onclick="startChaosTest('network')" class="w-full px-3 py-2 bg-red-600/20 hover:bg-red-600/30 border border-red-600/30 rounded-lg transition-colors text-xs">
                            <i data-feather="wifi-off" class="w-3 h-3 inline mr-1"></i>
                            Network Chaos
                        </button>
                        <button onclick="startChaosTest('resource')" class="w-full px-3 py-2 bg-orange-600/20 hover:bg-orange-600/30 border border-orange-600/30 rounded-lg transition-colors text-xs">
                            <i data-feather="hard-drive" class="w-3 h-3 inline mr-1"></i>
                            Resource Exhaustion
                        </button>
                    </div>

                    <div class="text-xs text-gray-400">
                        <span class="status-indicator status-warning"></span>
                        All chaos test results require validation
                    </div>
                </div>
            </div>

            <!-- 4. Correlation Engine -->
            <div class="glass-effect module-card p-6">
                <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                    <i data-feather="git-merge" class="w-5 h-5 text-indigo-400"></i>
                    Correlation Engine
                    <span class="text-xs text-yellow-400 ml-auto">Validation Required</span>
                </h3>

                <div class="space-y-4">
                    <div class="text-center p-4 bg-indigo-600/20 rounded-lg">
                        <div class="text-lg font-bold text-indigo-400" id="correlated-findings">0</div>
                        <div class="text-xs text-gray-400">Correlated Findings</div>
                    </div>

                    <div class="space-y-2">
                        <button onclick="runCorrelation()" class="w-full px-4 py-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-colors text-sm">
                            <i data-feather="play" class="w-4 h-4 inline mr-2"></i>
                            Run Correlation Analysis
                        </button>
                        <button onclick="viewCorrelationMap()" class="w-full px-4 py-2 bg-indigo-600/20 hover:bg-indigo-600/30 border border-indigo-600/30 rounded-lg transition-colors text-sm">
                            <i data-feather="map" class="w-4 h-4 inline mr-2"></i>
                            View Attack Surface Map
                        </button>
                    </div>

                    <div class="text-xs text-gray-400">
                        <span class="status-indicator status-warning"></span>
                        Correlation requires verified input data
                    </div>
                </div>
            </div>

            <!-- 5. Reporting Dashboard -->
            <div class="glass-effect module-card p-6">
                <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                    <i data-feather="file-text" class="w-5 h-5 text-yellow-400"></i>
                    Reporting Dashboard
                    <span class="text-xs text-green-400 ml-auto">Active</span>
                </h3>

                <div class="space-y-4">
                    <div class="bg-yellow-600/20 p-4 rounded-lg">
                        <h4 class="text-sm font-semibold text-yellow-400 mb-2">Executive Summary</h4>
                        <p class="text-xs text-gray-300">All previous automated findings removed as false positives. Manual validation protocol now active.</p>
                    </div>

                    <div class="space-y-2">
                        <button onclick="generateExecutiveReport()" class="w-full px-3 py-2 bg-yellow-600/20 hover:bg-yellow-600/30 border border-yellow-600/30 rounded-lg text-xs transition-colors">
                            <i data-feather="briefcase" class="w-3 h-3 inline mr-1"></i>
                            Generate Executive Report
                        </button>
                        <button onclick="generateTechnicalReport()" class="w-full px-3 py-2 bg-blue-600/20 hover:bg-blue-600/30 border border-blue-600/30 rounded-lg text-xs transition-colors">
                            <i data-feather="code" class="w-3 h-3 inline mr-1"></i>
                            Technical Assessment
                        </button>
                        <button onclick="generateComplianceReport()" class="w-full px-3 py-2 bg-green-600/20 hover:bg-green-600/30 border border-green-600/30 rounded-lg text-xs transition-colors">
                            <i data-feather="check-circle" class="w-3 h-3 inline mr-1"></i>
                            Compliance Report
                        </button>
                    </div>
                </div>
            </div>

            <!-- 6. Live Monitoring -->
            <div class="glass-effect module-card p-6">
                <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                    <i data-feather="monitor" class="w-5 h-5 text-cyan-400"></i>
                    Live Monitoring
                    <span class="text-xs text-green-400 ml-auto">Active</span>
                </h3>

                <div class="space-y-4">
                    <div class="grid grid-cols-3 gap-2 text-xs">
                        <div class="text-center p-2 bg-cyan-600/20 rounded">
                            <div class="font-bold text-cyan-400" id="active-scans">0</div>
                            <div class="text-gray-400">Active Scans</div>
                        </div>
                        <div class="text-center p-2 bg-green-600/20 rounded">
                            <div class="font-bold text-green-400" id="modules-ready">6</div>
                            <div class="text-gray-400">Modules Ready</div>
                        </div>
                        <div class="text-center p-2 bg-blue-600/20 rounded">
                            <div class="font-bold text-blue-400">100%</div>
                            <div class="text-gray-400">Uptime</div>
                        </div>
                    </div>

                    <div class="space-y-1 text-xs">
                        <div class="flex justify-between">
                            <span>Security Analysis</span>
                            <span class="text-yellow-400">Validation Required</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Bug Bounty Engine</span>
                            <span class="text-yellow-400">Validation Required</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Reporting Engine</span>
                            <span class="text-green-400">Active</span>
                        </div>
                    </div>

                    <div class="text-xs text-gray-400">
                        <span class="status-indicator status-active"></span>
                        Manual validation protocol active
                    </div>
                </div>
            </div>

        </div>

        <!-- Activity Log -->
        <div class="glass-effect rounded-xl p-6 mt-6">
            <h3 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                <i data-feather="activity" class="w-5 h-5 text-green-400"></i>
                Recent Activity
            </h3>
            <div id="activityLog" class="activity-log space-y-2 text-sm">
                <div class="text-gray-400">SAST analysis initiated - manual validation required <span class="text-xs text-gray-500 ml-auto">Now</span></div>
                <div class="text-gray-400">1 file(s) selected for security analysis - manual validation required <span class="text-xs text-gray-500 ml-auto">Now</span></div>
                <div class="text-gray-400">Unified dashboard initialized with all capabilities <span class="text-xs text-gray-500 ml-auto">Now</span></div>
                <div class="text-gray-400">All automated findings removed as false positives <span class="text-xs text-gray-500 ml-auto">Now</span></div>
                <div class="text-gray-400">Manual validation protocol activated <span class="text-xs text-gray-500 ml-auto">Now</span></div>
                <div class="text-gray-400">Unified dashboard deployed successfully <span class="text-xs text-gray-500 ml-auto">Now</span></div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            feather.replace();
            loadDashboardData();
            initializeCapabilities();
            updateModuleStatuses();
        });

        async function loadDashboardData() {
            try {
                const response = await fetch('./api/dashboard');
                const data = await response.json();
                updateMetrics(data.summary);
            } catch (error) {
                console.error('Error loading dashboard data:', error);
            }
        }

        function updateMetrics(summary) {
            document.getElementById('critical-count').textContent = summary?.critical || 0;
            document.getElementById('total-vulns').textContent = summary?.total_vulnerabilities || 0;
            document.getElementById('verified-count').textContent = summary?.verified_findings || 0;
            document.getElementById('active-modules').textContent = 6;
        }

        function updateModuleStatuses() {
            document.getElementById('chaos-tests').textContent = '0';
            document.getElementById('chaos-failures').textContent = '0';
            document.getElementById('correlated-findings').textContent = '0';
            document.getElementById('active-scans').textContent = '0';
            document.getElementById('modules-ready').textContent = '6';
        }

        function initializeCapabilities() {
            setupFileUpload();
            logActivity('Unified dashboard initialized with all capabilities');
        }

        function setupFileUpload() {
            const fileInput = document.getElementById('fileInput');
            fileInput.addEventListener('change', handleFileSelection);
        }

        function triggerFileUpload() {
            document.getElementById('fileInput').click();
        }

        function handleFileSelection(event) {
            const files = Array.from(event.target.files);
            if (files.length > 0) {
                logActivity(`${files.length} file(s) selected for security analysis - manual validation required`);
                alert('Files selected. Manual validation with screenshot evidence required for all findings.');
            }
        }

        function startAnalysis(type) {
            logActivity(`${type.toUpperCase()} analysis initiated - manual validation required`);
            alert(`${type.toUpperCase()} analysis started. All findings require manual validation with screenshot evidence.`);
        }

        function startBountyHunt(type) {
            const target = document.getElementById('bountyTarget').value;
            if (!target) {
                alert('Please enter a target domain/URL');
                return;
            }
            logActivity(`Bug bounty ${type} started for ${target} - manual validation required`);
            alert(`Bug bounty ${type} initiated. All findings require manual verification and screenshot evidence.`);
        }

        function startChaosTest(type) {
            logActivity(`Chaos testing (${type}) started - validation required`);
            alert(`Chaos testing initiated. All failure scenarios require manual validation.`);
        }

        function runCorrelation() {
            logActivity('Correlation analysis started - requires verified input data');
            alert('Correlation analysis initiated. Requires manually verified vulnerability data as input.');
        }

        function viewCorrelationMap() {
            alert('Attack surface mapping requires verified vulnerability findings.');
        }

        function generateExecutiveReport() {
            logActivity('Executive report generation requested');
            alert('Executive Report: All previous automated findings removed as false positives. Manual validation protocol active.');
        }

        function generateTechnicalReport() {
            logActivity('Technical report generation requested');
            alert('Technical Assessment: No verified vulnerabilities available. Manual validation with screenshot evidence required.');
        }

        function generateComplianceReport() {
            logActivity('Compliance report generation requested');
            alert('Compliance Report: Manual validation protocol active. All findings require screenshot evidence.');
        }

        function exportReport() {
            logActivity('Report export requested');
            alert('Report Export: Manual validation required for all findings. No verified vulnerabilities available for export.');
        }

        function logActivity(message) {
            const log = document.getElementById('activityLog');
            const entry = document.createElement('div');
            entry.className = 'text-gray-400';
            entry.innerHTML = `${message} <span class="text-xs text-gray-500 ml-auto">Now</span>`;
            log.insertBefore(entry, log.firstChild);

            // Keep only last 10 entries
            while (log.children.length > 10) {
                log.removeChild(log.lastChild);
            }
        }
    </script>
</body>
</html>