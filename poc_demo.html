<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuantumSentinel Enhanced PoC Evidence Demo</title>
    <style>
        body {
            background: #0f0f23;
            color: #ffffff;
            font-family: 'Inter', monospace;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .title {
            color: #00ff88;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        .subtitle {
            color: #00ccff;
            font-size: 1.2rem;
        }
        .section {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
        }
        .section-title {
            color: #00ff88;
            font-size: 1.5rem;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .code-block {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 255, 136, 0.2);
            border-radius: 8px;
            padding: 16px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            white-space: pre-wrap;
            margin: 12px 0;
        }
        .http-request {
            border-left: 3px solid #00ff88;
            color: #00ccff;
        }
        .http-response {
            border-left: 3px solid #ffa502;
            color: #ffa502;
        }
        .command {
            border-left: 3px solid #ff4757;
            color: #ff4757;
        }
        .evidence {
            border-left: 3px solid #2ed573;
            color: #2ed573;
        }
        .status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        .verified {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
        }
        .critical {
            background: rgba(255, 71, 87, 0.2);
            color: #ff4757;
        }
        .high-confidence {
            background: rgba(0, 204, 255, 0.2);
            color: #00ccff;
        }
        .loading {
            text-align: center;
            color: #ffa502;
            font-style: italic;
        }
        .copy-btn {
            background: #00ff88;
            color: #0f0f23;
            border: none;
            padding: 6px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            margin-top: 8px;
        }
        .copy-btn:hover {
            background: #00ccff;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1 class="title">üî¨ QuantumSentinel Enhanced PoC Evidence</h1>
            <p class="subtitle">Real-time demonstration of enhanced vulnerability findings with technical evidence</p>
        </div>

        <div class="section">
            <h2 class="section-title">üéØ Scan Results for dice.ipa</h2>
            <p><strong>File:</strong> dice.ipa | <strong>Scan ID:</strong> LIVE-1759272938 | <strong>Status:</strong> <span class="status verified">COMPLETE</span></p>
        </div>

        <div class="section">
            <h2 class="section-title">üö® Critical Vulnerability Detected</h2>
            <div id="vulnerability-info" class="loading">Loading vulnerability data from PoC Generation Engine...</div>
        </div>

        <div class="section">
            <h2 class="section-title">üìã Verification & Validation Results</h2>
            <div id="validation-info" class="loading">Loading validation data from Verification Engine...</div>
        </div>

        <div class="section">
            <h2 class="section-title">üîó Access Points</h2>
            <p>‚Ä¢ Enhanced Dashboard: <a href="http://localhost:8200" style="color: #00ccff;">http://localhost:8200</a></p>
            <p>‚Ä¢ PoC Generation Engine: <a href="http://localhost:8007" style="color: #00ccff;">http://localhost:8007</a></p>
            <p>‚Ä¢ Verification Engine: <a href="http://localhost:8008" style="color: #00ccff;">http://localhost:8008</a></p>
        </div>
    </div>

    <script>
        // Load PoC data
        fetch('http://localhost:8007/api/generate-poc')
            .then(response => response.json())
            .then(data => {
                const vulnDiv = document.getElementById('vulnerability-info');
                vulnDiv.innerHTML = `
                    <p><strong>Title:</strong> ${data.title}</p>
                    <p><strong>Severity:</strong> <span class="status critical">${data.severity}</span> | <strong>CVSS:</strong> ${data.cvss_score}/10 | <strong>CWE:</strong> ${data.cwe_id}</p>
                    <p><strong>Description:</strong> ${data.description}</p>

                    <h3 style="color: #00ff88; margin-top: 24px;">üîç HTTP Request Evidence</h3>
                    <div class="code-block http-request">${data.proof_of_concept.step_1.http_request}</div>

                    <h3 style="color: #ffa502;">üì§ Expected Response</h3>
                    <div class="code-block http-response">${data.proof_of_concept.step_1.expected_response}</div>

                    <h3 style="color: #ff4757;">‚ö° Exploitation Commands</h3>
                    ${data.exploitation_commands.slice(0, 2).map(cmd => `
                        <div class="code-block command"># ${cmd.description}
${cmd.command}
<button class="copy-btn" onclick="navigator.clipboard.writeText('${cmd.command}')">üìã Copy</button></div>
                    `).join('')}

                    <h3 style="color: #2ed573;">üì∏ Evidence Collection</h3>
                    <div class="code-block evidence"># Log Entries:
${data.evidence.log_entries.join('\n')}

# Network Capture:
${data.evidence.network_capture}

# Burp Session:
${data.evidence.burp_session}</div>
                `;
            })
            .catch(error => {
                document.getElementById('vulnerability-info').innerHTML = `<p style="color: #ff4757;">Error loading PoC data: ${error}</p>`;
            });

        // Load validation data
        fetch('http://localhost:8008/api/validate')
            .then(response => response.json())
            .then(data => {
                const validationDiv = document.getElementById('validation-info');
                validationDiv.innerHTML = `
                    <p><strong>Finding ID:</strong> ${data.finding_id}</p>
                    <p><strong>Status:</strong> <span class="status verified">${data.verification_status}</span> | <strong>Confidence:</strong> <span class="status high-confidence">${data.confidence_level}</span></p>
                    <p><strong>False Positive Probability:</strong> ${data.false_positive_analysis.analysis_results.false_positive_probability}</p>

                    <h3 style="color: #00ff88; margin-top: 24px;">üèõÔ∏è Compliance Mapping</h3>
                    <p><strong>OWASP Top 10:</strong> ${data.compliance_validation.owasp_top_10.category}</p>
                    <p><strong>CWE Classification:</strong> ${data.compliance_validation.cwe_mapping.primary_cwe}</p>
                    <p><strong>GDPR Impact:</strong> ${data.compliance_validation.regulatory_impact.gdpr}</p>

                    <h3 style="color: #00ccff;">üî¨ Verification Steps</h3>
                    <div class="code-block"># Step 1: ${data.verification_steps.step_1.test_name}
Method: ${data.verification_steps.step_1.method}
Endpoint: ${data.verification_steps.step_1.endpoint}
Expected: ${data.verification_steps.step_1.expected_status}
Actual: ${data.verification_steps.step_1.actual_status}
Verdict: ${data.verification_steps.step_1.verdict}</div>
                `;
            })
            .catch(error => {
                document.getElementById('validation-info').innerHTML = `<p style="color: #ff4757;">Error loading validation data: ${error}</p>`;
            });
    </script>
</body>
</html>